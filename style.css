/* ==========================================================================
   CSS Variables & Reset
   ========================================================================== */

/*========================================
CSS Custom Properties for consistent theming
========================================*/

:root {
    --primary-gradient: linear-gradient(90deg, #884bcd, #960a7a);
    --primary-gradient-light: linear-gradient(90deg, #884bcd3b, #960a7a3b);
    --border-radius-sm: 5px;
    --border-radius-md: 10px;
    --border-radius-lg: 20px;
    --border-radius-xl: 1000px;
    --transition-fast: 0.3s;
    --transition-normal: 0.5s;
    --transition-slow: 1s;
    --shadow-light: 0 2px 10px rgba(0, 0, 0, 0.1);
    --z-index-overlay: 4;
    --z-index-modal: 5;
}

/*========================================
       Global Reset & Base Styles
========================================*/

* {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
}

/*========================================
Prevent pointer events on button children for better interaction 
========================================*/

button * {
    pointer-events: none;
}

/* ==========================================================================
   Typography & Body
   ========================================================================== */

body {
    font-family: "Cairo", sans-serif;
    padding: 50px 100px;
    height: 100vh;
    background-image: var(--primary-gradient-light);
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ==========================================================================
   Mobile Warning Message
   ========================================================================== */

body .not-working {
    width: 300px;
    padding: 30px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    background-color: white;
    border-radius: var(--border-radius-lg);
}

body .not-working img {
    width: 200px;
}

body .not-working h1 {
    text-align: center;
}

/* ==========================================================================
   Reusable Components
   ========================================================================== */

/*========================================
Title Block Component (used in multiple sections)
========================================*/

.title-block {
    display: flex;
    gap: 10px;
}

.title-block i {
    font-size: 24px;
    color: transparent;
    background-image: var(--primary-gradient);
    background-clip: text;
}

/*========================================
        Loading Screen Component
========================================*/

.loading {
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.7);
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
    transition: var(--transition-normal);
    z-index: var(--z-index-overlay);
}

.loading img {
    width: 200px;
    border-radius: var(--border-radius-lg);
}

.loading .circle {
    width: 75px;
    height: 75px;
    border-radius: var(--border-radius-xl);
    border: 7px solid #884bcd;
    border-top-color: transparent;
    position: relative;
    animation: rotate 1s ease-in-out infinite;
}

.loading .circle::before,
.loading .circle::after {
    content: "";
    width: 7px;
    height: 7px;
    position: absolute;
    top: 3px;
    background-color: #884bcd;
    border-radius: var(--border-radius-xl);
}

.loading .circle::before { left: 3px; }
.loading .circle::after { right: 3px; }

@keyframes rotate {
    from { rotate: 0deg; }
    to { rotate: 360deg; }
}

/*========================================
        Modal Overlay Component
========================================*/

.overlay {
    display: none;
    width: 100%;
    height: 100%;
    background-color: rgba(128, 128, 128, 0.6);
    position: absolute;
    top: 0;
    left: 0;
    z-index: var(--z-index-overlay);
}

/*========================================
      Message/Input Modal Component
========================================*/

.message {
    display: none;
    flex-direction: column;
    gap: 20px;
    width: 475px;
    background-color: white;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: var(--z-index-modal);
    padding: 30px;
    border-radius: var(--border-radius-md);
}

.message .title-block {
    justify-content: space-between;
}

.message .title-block h2 span {
    font-size: 15px;
}

.message .input-box {
    display: flex;
    gap: 20px;
}

.message .input-box #valueInput {
    flex-grow: 1;
    padding: 5px 10px;
    font-size: 18px;
    border-radius: var(--border-radius-sm);
    border: 2px solid;
    outline: none;
    transition: var(--transition-fast);
}

.message .input-box #valueInput:focus {
    border-color: #884bcd;
}

.message .input-box #enterButton {
    padding: 10px 20px;
    background-color: black;
    color: white;
    border-radius: var(--border-radius-sm);
    font-size: 16px;
    transition: var(--transition-fast);
}

.message .input-box #enterButton:hover {
    background-color: transparent;
    background-image: var(--primary-gradient);
}

.message button {
    background-color: transparent;
    border: none;
    cursor: pointer;
}

/* ==========================================================================
   Main Application Layout - Desktop
   ========================================================================== */

main {
    height: 100%;
    display: none;
    display: none;
    grid-template-columns: repeat(5, 1fr);
    gap: 30px;
    flex-grow: 1;
    flex-grow: 1;
}

/*========================================
  Common card styling for main sections
========================================*/
main > div {
    background-color: white;
    border-radius: var(--border-radius-lg);
    padding: 30px;
}

/* ==========================================================================
   Individual Main Sections
   ========================================================================== */

/*========================================
            Logo Section
========================================*/
main .logo {
    grid-area: 1/1/2/2;
    background-image: url("images/Filato.png");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

/*========================================
        Resource Usage Section
========================================*/
main .usage {
    grid-area: 1/2/2/6;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

main .usage .hardware {
    display: flex;
    justify-content: space-between;
}

main .usage .hardware > div {
    display: flex;
    align-items: center;
    gap: 10px;
}

main .usage .hardware > div .hardware-name {
    width: 70px;
}

main .usage .hardware > div .hardware-name {
    width: 70px;
}

main .usage .hardware .bar {
    width: 200px;
    height: 20px;
    background-color: #ddd;
    border-radius: var(--border-radius-xl);
}

main .usage .hardware .bar .internal-bar {
    width: 0%;
    height: 100%;
    border-radius: inherit;
    background-image: var(--primary-gradient);
    transition: var(--transition-slow);
}

/*========================================
        Home/Desktop Section
========================================*/
main .home {
    grid-area: 2/1/10/3;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

main .home .screen {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 20px;
    flex-grow: 1;
    background-image: linear-gradient(90deg, #884bcdc9, #960a7ac9);
    border-radius: var(--border-radius-md);
}

main .home .screen .tools {
    padding: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    background-color: white;
    border-radius: var(--border-radius-md);
}

main .home .screen #currentPage {
    text-align: center;
    color: white;
}

main .home .screen .tools button {
    background-color: transparent;
    outline: none;
    border: 0;
    cursor: pointer;
    font-size: 20px;
}

main .home .screen .tools button:not(:disabled) {
    transition: var(--transition-normal);
}

main .home .screen .tools button:not(:disabled):hover {
    color: transparent;
    background-image: var(--primary-gradient);
    background-clip: text;
}

/*========================================
          File Browser/Data Box
========================================*/
main .home .screen .data-box {
    height: 100px;
    flex-grow: 1;
    background-color: white;
    border-radius: var(--border-radius-md);
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    align-content: start;
    gap: 10px;
    overflow-y: auto;
    padding: 30px;
    position: relative;
}

/*========================================
          File Preview Overlay
========================================*/
main .home .screen .data-box #previewOverlay {
    display: none;
    width: 100%;
    height: 100%;
    background-color: rgba(128, 128, 128, 0.6);
    position: absolute;
    top: 0;
    left: 0;
    z-index: var(--z-index-overlay);
}

main .home .screen .data-box .preview {
    display: none;
    width: 80%;
    height: 80%;
    background-color: white;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: var(--z-index-modal);
    border-radius: var(--border-radius-md);
    padding: 20px;
    flex-direction: column;
    gap: 20px;
}

main .home .screen .data-box .preview .title-block {
    justify-content: space-between;
}

main .home .screen .data-box .preview .title-block button {
    background-color: transparent;
    border: 0;
    outline: none;
    cursor: pointer;
}

main .home .screen .data-box .preview textarea {
    resize: none;
    flex-grow: 1;
    padding: 10px;
    font-size: 18px;
    border-radius: var(--border-radius-sm);
    border: 2px solid;
    outline: none;
    transition: var(--transition-fast);
}

main .home .screen .data-box .preview textarea:focus {
    border-color: #884bcd;
}

main .home .screen .data-box .preview #saveButton {
    padding: 10px 20px;
    background-color: black;
    color: white;
    border-radius: var(--border-radius-sm);
    font-size: 16px;
    border: none;
    cursor: pointer;
    transition: var(--transition-fast);
}

main .home .screen .data-box .preview #saveButton:hover {
    background-color: transparent;
    background-image: var(--primary-gradient);
}

/*========================================
        File and Folder Items
========================================*/
main .home .screen .data-box .file,
main .home .screen .data-box .folder {
    padding: 10px 20px;
    display: flex;
    flex-direction: column;
    background-color: transparent;
    border: none;
    gap: 10px;
    cursor: pointer;
    border-radius: var(--border-radius-sm);
}

main .home .screen .data-box .file:focus,
main .home .screen .data-box .folder:focus {
    background-color: rgba(104, 104, 255, 0.2);
}

main .home .screen .data-box .file i,
main .home .screen .data-box .folder i {
    font-size: 24px;
    background-image: var(--primary-gradient);
    background-clip: text;
    color: transparent;
}

/*========================================
            Tree View Section
========================================*/
main .tree {
    grid-area: 2/3/10/5;
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 30px;
    overflow-y: auto;
}

main .tree p {
    padding: 10px;
    background-color: #ddd;
    border-radius: var(--border-radius-md);
}

/*========================================
              Chart Section
========================================*/
main .chart {
    grid-area: 2/5/6/6;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

main .chart .chart-block {
    flex-grow: 1;
    position: relative;
    z-index: 3;
}

/*========================================
              Log Section
========================================*/
main .log {
    grid-area: 6/5/10/6;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

main .log #logData {
    max-height: 200px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    overflow-y: auto;
}

main .log #logData p {
    padding: 10px;
    background-color: #ddd;
    border-radius: var(--border-radius-md);
}

/* ==========================================================================
   Responsive Design - Tablet & Mobile
   ========================================================================== */

@media (min-width: 768px) {
    /* Hide mobile warning on tablet and larger */
    body .not-working {
        display: none;
    }
    
    /*========================================
      Show main layout on tablet and larger
    ========================================*/

    body main {
        display: grid;
    }
}

@media (max-width: 1028px) {

    /*========================================
          Tablet and Mobile adjustments 
    ========================================*/

    body {
        padding: 30px;
        min-height: 100vh;
        height: initial;
    }
    
    /*======================================== 
    Fixed positioning for overlays on mobile 
    ========================================*/
    body .loading {
        position: fixed;
    }
    
    body .message {
        width: initial;
        position: fixed;
    }
    
    body .message .title-block {
        align-items: start;
    }
    
    /*======================================== 
           Stacked layout for mobile 
    ========================================*/

    body main {
        grid-template-columns: 1fr;
    }
    
    body main > div {
        padding: 20px;
    }
    
    /*========================================
            Mobile grid areas
    ========================================*/

    body main .logo {
        grid-area: 1 / 1 / 2 / 2;
    }
    
    body main .usage {
        grid-area: 2 / 1 / 4 / 2;
    }
    
    body main .usage .hardware {
        flex-direction: column;
    }
    
    body main .usage .hardware > div {
        justify-content: space-between;
    }
    
    body main .home {
        grid-area: 4 / 1 / 8 / 2;
    }
    
    body main .home .screen .data-box {
        height: 450px;
    }
    
    body main .tree {
        grid-area: 8 / 1 / 12 / 2;
    }
    
    body main .chart {
        grid-area: 12 / 1 / 14 / 2;
    }
    
    body main .chart .chart-block {
        padding: 50px;
    }
    
    body main .log {
        grid-area: 14 / 1 / 16 / 2;
    }
}
